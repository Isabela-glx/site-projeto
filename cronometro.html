<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cron√¥metro</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <video class="video-background" autoplay muted loop>
        <source src="assets/video.mp4" type="video/mp4">
    </video>
    <audio id="musica" loop>
        <source src="assets/musica.mp3" type="audio/mpeg">
    </audio>
    <audio id="avisoSom">
        <source src="assets/aviso.mp3" type="audio/mpeg">
    </audio>
    <div class="cronometro-container">
        <h1 id="cronometro">00:00</h1>
    </div>

    <script>
        let params = new URLSearchParams(window.location.search);
        let tempoTotal = params.get('tempo') * 60;
        let segundosRestantes = tempoTotal;
        let aviso1 = params.get('aviso1');
        let aviso2 = params.get('aviso2');
        let intervalo;

        function tocarAviso() {
            document.getElementById('avisoSom').play();
        }

        function atualizarCronometro() {
            let minutos = Math.floor(segundosRestantes / 60);
            let segundos = segundosRestantes % 60;
            document.getElementById('cronometro').textContent = 
                (minutos < 10 ? "0" : "") + minutos + ":" + (segundos < 10 ? "0" : "") + segundos;
            
            if (segundosRestantes == aviso1 || segundosRestantes == aviso2) {
                tocarAviso();
            }
            
            if (segundosRestantes > 0) {
                segundosRestantes--;
            } else {
                clearInterval(intervalo);
            }
        }

        function iniciarCronometro() {
            intervalo = setInterval(atualizarCronometro, 1000);
        }

        iniciarCronometro();
    </script>
</body>
</html>
